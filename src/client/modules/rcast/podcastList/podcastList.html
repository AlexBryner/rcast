<template>
    <rcast-header>
        <rcast-icon slot="left" class="back" name="back" onclick={handleBack}></rcast-icon>
        {categoryName}
    </rcast-header>

    <rcast-content>
        <template if:true={state.loading}>
            <div class="center">
                <rcast-spinner></rcast-spinner>
            </div>
        </template>

        <template if:false={state.loading}>
            <template if:true={state.result.error}>
                <div class="center">
                    Can't load results
                    <button onclick={handleLoadRetry}>Retry</button>
                </div>
            </template>

            <template if:false={state.result.error}>
                    <template for:each={state.result.data} for:item="podcast">
                        <div class="podcast" key={podcast.id} onclick={handlePodcastClick} data-podcast-id={podcast.id}>
                            <rcast-cover class="podcast_cover" href={podcast.image} name={podcast.name} rounded-corners></rcast-cover>
                            <div class="podcast_description">
                                <span class="podcast_name">{podcast.name}</span>
                                <span class="podcast_author">{podcast.author.name}</span>
                            </div>
                        </div>
                    </template>
                </template>
        </template>
    </rcast-content>
</template>