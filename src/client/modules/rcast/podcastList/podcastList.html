<template>
    <rcast-header>
        <rcast-icon slot="left" class="back" name="back" onclick={handleBack}></rcast-icon>
        {categoryName}
    </rcast-header>

    <rcast-content>
        <template if:true={state.loading}>
            <div class="center">
                <rcast-spinner></rcast-spinner>
            </div>
        </template>

        <template if:false={state.loading}>
            <template if:true={state.result.error}>
                <div class="center">
                    Can't load results
                    <button onclick={handleLoadRetry}>Retry</button>
                </div>
            </template>

            <template if:false={state.result.error}>
                    <template for:each={state.result.data} for:item="podcast">
                        <rcast-podcast-list-item 
                            key={podcast.id} podcast={podcast} 
                            data-podcast-id={podcast.id} onclick={handlePodcastClick}>
                        </rcast-podcast-list-item>
                    </template>
                </template>
        </template>
    </rcast-content>
</template>